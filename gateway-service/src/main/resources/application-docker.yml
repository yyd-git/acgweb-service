server:
  port: 8090

spring:
  application:
    name: gateway-service

  cloud:
    nacos:
      discovery:
        server-addr: nacos:8848
        # ğŸŸ¢ å¼€å¯å¿ƒè·³æœºåˆ¶ï¼ˆå®¢æˆ·ç«¯ -> Nacosï¼‰
        heart-beat-interval: 5000
        heart-beat-timeout: 15000
        # ğŸŸ¢ å¼€å¯å¥åº·æ£€æŸ¥ï¼ˆNacos -> æœåŠ¡ï¼‰
        health-check-url: /actuator/health
        # æœåŠ¡å®ä¾‹çš„IPå’Œç«¯å£ï¼Œä¼šè‡ªåŠ¨æ³¨å…¥
        # ip:  # ä¸é…ç½®åˆ™ä½¿ç”¨å®¹å™¨IP
        # port:
#        server-addr: nacos:8848   # éƒ¨ç½²åˆ° Docker åè¦æ”¹æˆ nacos å®¹å™¨å


    gateway:
      # =======================
      # å…¨å±€ CORS é…ç½®
      # =======================
      globalcors:
        cors-configurations:
          '[/**]':
            allowedOriginPatterns: "*"
            allowedMethods: "*"
            allowedHeaders: "*"
            allowCredentials: true
            maxAge: 3600

      # =======================
      # æœåŠ¡å‘ç° + è·¯ç”±
      # =======================
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true

      routes:
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/api/user/**

        - id: course-service
          uri: lb://course-service
          predicates:
            - Path=/api/courses/**

        - id: enrollment-service
          uri: lb://enrollment-service
          predicates:
            - Path=/api/enrollments/**

jwt:
  secret: "MySuperSecureJwtSecretKeyForHS256_123456"
  expiration: 86400000
